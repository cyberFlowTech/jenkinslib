pipeline {
    agent {
        label 'macos4'
    }

    parameters {

        string(
            name: 'FTPAddr', 
            defaultValue: "/Users/apple/Documents/ftp/Share/TestAPP/prod_app/mimo_1.1.1.apk", 
            description: '提审包地址'
        )
    }

    stages {

        stage('将最新的包上传到S3桶.') {
            steps {
                sh '''
# 上传新包
/usr/local/bin/aws s3 --profile mimosite cp \$FTPAddr s3://mimo-apkdl/packages/
# 刷新cdn
#aws --profile mimosite cloudfront create-invalidation --distribution-id $PROD_CLIENT_APP_MIME_ANDROID_PUBLISH_S3_DISTRIBUTION_ID --paths "/*"
                
                '''
            }
        }
    }
}
